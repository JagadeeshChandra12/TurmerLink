{"ast":null,"code":"import React,{useState}from'react';import{useLanguage}from'../../contexts/LanguageContext';import{PhoneIcon,KeyIcon}from'@heroicons/react/24/outline';import{supabase,dbHelpers}from'../../config/supabase';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginForm=_ref=>{let{onLogin,onGovernmentLogin}=_ref;const[phoneNumber,setPhoneNumber]=useState('');const[otp,setOtp]=useState('');const[step,setStep]=useState('phone');// 'phone' or 'otp'\nconst[loading,setLoading]=useState(false);const{language,changeLanguage}=useLanguage();const handlePhoneSubmit=async e=>{e.preventDefault();if(!phoneNumber||phoneNumber.length!==10){toast.error(language==='te'?'‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡±Å‡∞¨‡∞æ‡∞ü‡±Å ‡∞Ö‡∞Ø‡±ç‡∞Ø‡±á 10 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Please enter a valid 10-digit phone number');return;}setLoading(true);try{// Send OTP using Supabase Auth with Twilio\nconsole.log('Sending OTP to:',\"+91\".concat(phoneNumber));const{data,error}=await supabase.auth.signInWithOtp({phone:\"+91\".concat(phoneNumber),options:{channel:'sms'}});console.log('Supabase response:',{data,error});if(error){console.error('Supabase OTP error:',error);throw error;}toast.success(language==='te'?\"OTP \\u0C2A\\u0C02\\u0C2A\\u0C2C\\u0C21\\u0C3F\\u0C02\\u0C26\\u0C3F: \".concat(phoneNumber):\"OTP sent to: \".concat(phoneNumber));setStep('otp');}catch(error){var _error$message,_error$message2,_error$message3,_error$message4,_error$message5,_error$message6,_error$message7;console.error('OTP send error:',error);// More detailed error messages\nlet errorMessage=error.message||(language==='te'?'OTP ‡∞™‡∞Ç‡∞™‡∞°‡∞Ç‡∞≤‡±ã ‡∞≤‡±ã‡∞™‡∞Ç':'Failed to send OTP. Please try again.');if((_error$message=error.message)!==null&&_error$message!==void 0&&_error$message.includes('Invalid phone number')){errorMessage=language==='te'?'‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞®‡∞ø ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç. ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.':'Invalid phone number. Please try again.';}else if((_error$message2=error.message)!==null&&_error$message2!==void 0&&_error$message2.includes('rate limit')){errorMessage=language==='te'?'‡∞ö‡∞æ‡∞≤‡∞æ ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞æ‡∞≤‡±Å. ‡∞ï‡±ä‡∞Ç‡∞§ ‡∞∏‡∞Æ‡∞Ø‡∞Ç ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.':'Too many attempts. Please try again later.';}else if((_error$message3=error.message)!==null&&_error$message3!==void 0&&_error$message3.includes('provider')){errorMessage=language==='te'?'SMS ‡∞™‡±ç‡∞∞‡±ä‡∞µ‡±à‡∞°‡∞∞‡±ç ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø. ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.':'SMS provider issue. Please try again.';}toast.error(errorMessage);// Fallback: Offer demo OTP for testing\nif((_error$message4=error.message)!==null&&_error$message4!==void 0&&_error$message4.includes('provider')||(_error$message5=error.message)!==null&&_error$message5!==void 0&&_error$message5.includes('Invalid phone number')||(_error$message6=error.message)!==null&&_error$message6!==void 0&&_error$message6.includes('expired')||(_error$message7=error.message)!==null&&_error$message7!==void 0&&_error$message7.includes('invalid')){setTimeout(()=>{const useDemo=window.confirm(language==='te'?'OTP ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞æ? (123456)':'OTP issue detected. Use demo OTP? (123456)');if(useDemo){localStorage.setItem('demo_otp','123456');localStorage.setItem('demo_phone',phoneNumber);toast.success(language==='te'?'‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456':'Demo OTP: 123456');setStep('otp');}},2000);}}finally{setLoading(false);}};const handleOtpSubmit=async e=>{e.preventDefault();if(!otp||otp.length!==6){toast.error(language==='te'?'‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡±Å‡∞¨‡∞æ‡∞ü‡±Å ‡∞Ö‡∞Ø‡±ç‡∞Ø‡±á 6 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Please enter a valid 6-digit OTP');return;}setLoading(true);try{// Check if this is a demo OTP first\nconst storedOTP=localStorage.getItem('demo_otp');const storedPhone=localStorage.getItem('demo_phone');if(otp===storedOTP&&phoneNumber===storedPhone){// Demo OTP verification\nconsole.log('Using demo OTP verification');localStorage.removeItem('demo_otp');localStorage.removeItem('demo_phone');}else{// Real Supabase OTP verification\nconsole.log('Verifying real OTP with Supabase');const{data,error}=await supabase.auth.verifyOtp({phone:\"+91\".concat(phoneNumber),token:otp,type:'sms'});if(error){console.error('Supabase OTP verification error:',error);throw error;}}// Get or create farmer profile\nlet farmerProfile=await dbHelpers.getFarmer(phoneNumber);if(!farmerProfile.data){// Create new farmer profile with auto-filled data\nconst newFarmer={phone_number:phoneNumber,name:\"Farmer \".concat(phoneNumber.slice(-4)),// Default name\nlocation:'Unknown',language:language};const{data:createdFarmer,error:createError}=await dbHelpers.createFarmer(newFarmer);if(createError){throw createError;}farmerProfile={data:createdFarmer[0]};toast.success(language==='te'?'‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞™‡±ç‡∞∞‡±ä‡∞´‡±à‡∞≤‡±ç ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø!':'New profile created!');}// Login successful with auto-filled profile\nconst userData={id:farmerProfile.data.id,phoneNumber:farmerProfile.data.phone_number,name:farmerProfile.data.name,location:farmerProfile.data.location,language:farmerProfile.data.language,loginTime:new Date().toISOString()};onLogin(userData);toast.success(language==='te'?'‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Ç!':'Login successful!');}catch(error){console.error('OTP verify error:',error);toast.error(error.message||(language==='te'?'OTP ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞£‡∞≤‡±ã ‡∞≤‡±ã‡∞™‡∞Ç':'Failed to verify OTP. Please try again.'));}finally{setLoading(false);}};const handleLanguageToggle=()=>{const newLanguage=language==='en'?'te':'en';changeLanguage(newLanguage);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-primary-50 to-turmeric-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mb-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLanguageToggle,className:\"px-3 py-1 bg-gray-100 rounded-lg text-gray-700 hover:bg-gray-200 transition-colors text-sm font-semibold\",children:language==='te'?'English':'‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-turmeric-500 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83C\\uDF31\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"TurmerLink\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:language==='te'?'‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø‡∞¶‡∞æ‡∞∞‡±Å‡∞≤ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡±Ü‡∞ü‡±ç ‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±Ü‡∞∏‡±ç ‡∞™‡±ç‡∞≤‡∞æ‡∞ü‡±ç‚Äå‡∞´‡∞æ‡∞∞‡∞Æ‡±ç':'Farmers Market Access Platform'})]}),step==='phone'?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePhoneSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:language==='te'?'‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç':'Phone Number'}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(PhoneIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phoneNumber,onChange:e=>setPhoneNumber(e.target.value),placeholder:language==='te'?'10 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Enter 10-digit phone number',className:\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",maxLength:\"10\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:loading?language==='te'?'‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø':'Loading...':language==='te'?'OTP ‡∞™‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø':'Send OTP'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{localStorage.setItem('demo_otp','123456');localStorage.setItem('demo_phone',phoneNumber);toast.success(language==='te'?'‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456':'Demo OTP: 123456');setStep('otp');},className:\"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-yellow-600 transition-colors text-sm\",children:language==='te'?'‡∞°‡±Ü‡∞Æ‡±ã OTP (123456)':'Demo OTP (123456)'})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleOtpSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:language==='te'?'OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Enter OTP'}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(KeyIcon,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:otp,onChange:e=>setOtp(e.target.value),placeholder:language==='te'?'6 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Enter 6-digit OTP',className:\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",maxLength:\"6\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:language==='te'?\"OTP \\u0C2A\\u0C02\\u0C2A\\u0C2C\\u0C21\\u0C3F\\u0C02\\u0C26\\u0C3F +91 \".concat(phoneNumber):\"OTP sent to +91 \".concat(phoneNumber)}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800 font-medium\",children:language==='te'?'‚ö†Ô∏è SMS ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞ï‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ, ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞¨‡∞ü‡∞®‡±ç ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø':'‚ö†Ô∏è Due to SMS issues, please use the Demo OTP button below'})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{localStorage.setItem('demo_otp','123456');localStorage.setItem('demo_phone',phoneNumber);toast.success(language==='te'?'‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456':'Demo OTP: 123456');setStep('otp');},className:\"w-full bg-green-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors mb-3\",children:language==='te'?'‚úÖ ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø (123456)':'‚úÖ Use Demo OTP (123456)'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setStep('phone'),className:\"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors\",children:language==='te'?'‡∞∞‡∞¶‡±ç‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø':'Cancel'}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"flex-1 bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:loading?language==='te'?'‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø':'Loading...':language==='te'?'‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø':'Verify'})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 pt-6 border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-3\",children:language==='te'?'‡∞™‡±ç‡∞∞‡∞≠‡±Å‡∞§‡±ç‡∞µ ‡∞Ö‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡±Å‡∞≤‡∞ï‡±Å':'For Government Officials'}),/*#__PURE__*/_jsxs(\"button\",{onClick:onGovernmentLogin,className:\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFDB\\uFE0F\"}),/*#__PURE__*/_jsx(\"span\",{children:language==='te'?'‡∞™‡±ç‡∞∞‡∞≠‡±Å‡∞§‡±ç‡∞µ ‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç':'Government Login'})]})]})})]})});};export default LoginForm;","map":{"version":3,"names":["React","useState","useLanguage","PhoneIcon","KeyIcon","supabase","dbHelpers","toast","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","onLogin","onGovernmentLogin","phoneNumber","setPhoneNumber","otp","setOtp","step","setStep","loading","setLoading","language","changeLanguage","handlePhoneSubmit","e","preventDefault","length","error","console","log","concat","data","auth","signInWithOtp","phone","options","channel","success","_error$message","_error$message2","_error$message3","_error$message4","_error$message5","_error$message6","_error$message7","errorMessage","message","includes","setTimeout","useDemo","window","confirm","localStorage","setItem","handleOtpSubmit","storedOTP","getItem","storedPhone","removeItem","verifyOtp","token","type","farmerProfile","getFarmer","newFarmer","phone_number","name","slice","location","createdFarmer","createError","createFarmer","userData","id","loginTime","Date","toISOString","handleLanguageToggle","newLanguage","className","children","onClick","onSubmit","value","onChange","target","placeholder","maxLength","disabled"],"sources":["C:/Turmerik Bits/src/components/Auth/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useLanguage } from '../../contexts/LanguageContext';\r\nimport { PhoneIcon, KeyIcon } from '@heroicons/react/24/outline';\r\nimport { supabase, dbHelpers } from '../../config/supabase';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst LoginForm = ({ onLogin, onGovernmentLogin }) => {\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [otp, setOtp] = useState('');\r\n  const [step, setStep] = useState('phone'); // 'phone' or 'otp'\r\n  const [loading, setLoading] = useState(false);\r\n  const { language, changeLanguage } = useLanguage();\r\n\r\n  const handlePhoneSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!phoneNumber || phoneNumber.length !== 10) {\r\n      toast.error(language === 'te' ? '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡±Å‡∞¨‡∞æ‡∞ü‡±Å ‡∞Ö‡∞Ø‡±ç‡∞Ø‡±á 10 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Please enter a valid 10-digit phone number');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Send OTP using Supabase Auth with Twilio\r\n      console.log('Sending OTP to:', `+91${phoneNumber}`);\r\n      \r\n      const { data, error } = await supabase.auth.signInWithOtp({\r\n        phone: `+91${phoneNumber}`,\r\n        options: {\r\n          channel: 'sms'\r\n        }\r\n      });\r\n\r\n      console.log('Supabase response:', { data, error });\r\n\r\n      if (error) {\r\n        console.error('Supabase OTP error:', error);\r\n        throw error;\r\n      }\r\n\r\n      toast.success(language === 'te' \r\n        ? `OTP ‡∞™‡∞Ç‡∞™‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø: ${phoneNumber}` \r\n        : `OTP sent to: ${phoneNumber}`\r\n      );\r\n      setStep('otp');\r\n    } catch (error) {\r\n      console.error('OTP send error:', error);\r\n      \r\n      // More detailed error messages\r\n      let errorMessage = error.message || (language === 'te' ? 'OTP ‡∞™‡∞Ç‡∞™‡∞°‡∞Ç‡∞≤‡±ã ‡∞≤‡±ã‡∞™‡∞Ç' : 'Failed to send OTP. Please try again.');\r\n      \r\n      if (error.message?.includes('Invalid phone number')) {\r\n        errorMessage = language === 'te' ? '‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞®‡∞ø ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç. ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.' : 'Invalid phone number. Please try again.';\r\n      } else if (error.message?.includes('rate limit')) {\r\n        errorMessage = language === 'te' ? '‡∞ö‡∞æ‡∞≤‡∞æ ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞æ‡∞≤‡±Å. ‡∞ï‡±ä‡∞Ç‡∞§ ‡∞∏‡∞Æ‡∞Ø‡∞Ç ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.' : 'Too many attempts. Please try again later.';\r\n      } else if (error.message?.includes('provider')) {\r\n        errorMessage = language === 'te' ? 'SMS ‡∞™‡±ç‡∞∞‡±ä‡∞µ‡±à‡∞°‡∞∞‡±ç ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø. ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡∞≥‡±ç‡∞≤‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.' : 'SMS provider issue. Please try again.';\r\n      }\r\n      \r\n      toast.error(errorMessage);\r\n      \r\n      // Fallback: Offer demo OTP for testing\r\n      if (error.message?.includes('provider') || error.message?.includes('Invalid phone number') || error.message?.includes('expired') || error.message?.includes('invalid')) {\r\n        setTimeout(() => {\r\n          const useDemo = window.confirm(\r\n            language === 'te' \r\n              ? 'OTP ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞æ‡∞≤‡∞æ? (123456)'\r\n              : 'OTP issue detected. Use demo OTP? (123456)'\r\n          );\r\n          \r\n          if (useDemo) {\r\n            localStorage.setItem('demo_otp', '123456');\r\n            localStorage.setItem('demo_phone', phoneNumber);\r\n            toast.success(language === 'te' ? '‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456' : 'Demo OTP: 123456');\r\n            setStep('otp');\r\n          }\r\n        }, 2000);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOtpSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!otp || otp.length !== 6) {\r\n      toast.error(language === 'te' ? '‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡±Å‡∞¨‡∞æ‡∞ü‡±Å ‡∞Ö‡∞Ø‡±ç‡∞Ø‡±á 6 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Please enter a valid 6-digit OTP');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Check if this is a demo OTP first\r\n      const storedOTP = localStorage.getItem('demo_otp');\r\n      const storedPhone = localStorage.getItem('demo_phone');\r\n      \r\n      if (otp === storedOTP && phoneNumber === storedPhone) {\r\n        // Demo OTP verification\r\n        console.log('Using demo OTP verification');\r\n        localStorage.removeItem('demo_otp');\r\n        localStorage.removeItem('demo_phone');\r\n      } else {\r\n        // Real Supabase OTP verification\r\n        console.log('Verifying real OTP with Supabase');\r\n        const { data, error } = await supabase.auth.verifyOtp({\r\n          phone: `+91${phoneNumber}`,\r\n          token: otp,\r\n          type: 'sms'\r\n        });\r\n\r\n        if (error) {\r\n          console.error('Supabase OTP verification error:', error);\r\n          throw error;\r\n        }\r\n      }\r\n\r\n      // Get or create farmer profile\r\n      let farmerProfile = await dbHelpers.getFarmer(phoneNumber);\r\n      \r\n      if (!farmerProfile.data) {\r\n        // Create new farmer profile with auto-filled data\r\n        const newFarmer = {\r\n          phone_number: phoneNumber,\r\n          name: `Farmer ${phoneNumber.slice(-4)}`, // Default name\r\n          location: 'Unknown',\r\n          language: language\r\n        };\r\n        \r\n        const { data: createdFarmer, error: createError } = await dbHelpers.createFarmer(newFarmer);\r\n        \r\n        if (createError) {\r\n          throw createError;\r\n        }\r\n        \r\n        farmerProfile = { data: createdFarmer[0] };\r\n        toast.success(language === 'te' ? '‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞™‡±ç‡∞∞‡±ä‡∞´‡±à‡∞≤‡±ç ‡∞∏‡±É‡∞∑‡±ç‡∞ü‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø!' : 'New profile created!');\r\n      }\r\n\r\n      // Login successful with auto-filled profile\r\n      const userData = {\r\n        id: farmerProfile.data.id,\r\n        phoneNumber: farmerProfile.data.phone_number,\r\n        name: farmerProfile.data.name,\r\n        location: farmerProfile.data.location,\r\n        language: farmerProfile.data.language,\r\n        loginTime: new Date().toISOString()\r\n      };\r\n\r\n      onLogin(userData);\r\n      toast.success(language === 'te' ? '‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Ç!' : 'Login successful!');\r\n      \r\n    } catch (error) {\r\n      console.error('OTP verify error:', error);\r\n      toast.error(error.message || (language === 'te' ? 'OTP ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞£‡∞≤‡±ã ‡∞≤‡±ã‡∞™‡∞Ç' : 'Failed to verify OTP. Please try again.'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLanguageToggle = () => {\r\n    const newLanguage = language === 'en' ? 'te' : 'en';\r\n    changeLanguage(newLanguage);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-primary-50 to-turmeric-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md\">\r\n        {/* Language Toggle */}\r\n        <div className=\"flex justify-end mb-4\">\r\n          <button \r\n            onClick={handleLanguageToggle}\r\n            className=\"px-3 py-1 bg-gray-100 rounded-lg text-gray-700 hover:bg-gray-200 transition-colors text-sm font-semibold\"\r\n          >\r\n            {language === 'te' ? 'English' : '‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å'}\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"text-center mb-8\">\r\n          <div className=\"w-16 h-16 bg-turmeric-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n            <span className=\"text-2xl\">üå±</span>\r\n          </div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">TurmerLink</h1>\r\n          <p className=\"text-gray-600\">{language === 'te' ? '‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡∞æ‡∞Ø‡∞¶‡∞æ‡∞∞‡±Å‡∞≤ ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ï‡±Ü‡∞ü‡±ç ‡∞Ø‡∞æ‡∞ï‡±ç‡∞∏‡±Ü‡∞∏‡±ç ‡∞™‡±ç‡∞≤‡∞æ‡∞ü‡±ç‚Äå‡∞´‡∞æ‡∞∞‡∞Æ‡±ç' : 'Farmers Market Access Platform'}</p>\r\n        </div>\r\n\r\n        {step === 'phone' ? (\r\n          <form onSubmit={handlePhoneSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                {language === 'te' ? '‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç' : 'Phone Number'}\r\n              </label>\r\n              <div className=\"relative\">\r\n                <PhoneIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  type=\"tel\"\r\n                  value={phoneNumber}\r\n                  onChange={(e) => setPhoneNumber(e.target.value)}\r\n                  placeholder={language === 'te' ? '10 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Enter 10-digit phone number'}\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                  maxLength=\"10\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {loading ? (language === 'te' ? '‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø' : 'Loading...') : (language === 'te' ? 'OTP ‡∞™‡∞Ç‡∞™‡∞Ç‡∞°‡∞ø' : 'Send OTP')}\r\n            </button>\r\n            \r\n            {/* Demo OTP Button for Testing */}\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                localStorage.setItem('demo_otp', '123456');\r\n                localStorage.setItem('demo_phone', phoneNumber);\r\n                toast.success(language === 'te' ? '‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456' : 'Demo OTP: 123456');\r\n                setStep('otp');\r\n              }}\r\n              className=\"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-yellow-600 transition-colors text-sm\"\r\n            >\r\n              {language === 'te' ? '‡∞°‡±Ü‡∞Æ‡±ã OTP (123456)' : 'Demo OTP (123456)'}\r\n            </button>\r\n          </form>\r\n        ) : (\r\n          <form onSubmit={handleOtpSubmit} className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                {language === 'te' ? 'OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Enter OTP'}\r\n              </label>\r\n              <div className=\"relative\">\r\n                <KeyIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={otp}\r\n                  onChange={(e) => setOtp(e.target.value)}\r\n                  placeholder={language === 'te' ? '6 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ OTP ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Enter 6-digit OTP'}\r\n                  className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                  maxLength=\"6\"\r\n                />\r\n              </div>\r\n              <p className=\"text-sm text-gray-500 mt-2\">\r\n                {language === 'te' ? `OTP ‡∞™‡∞Ç‡∞™‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø +91 ${phoneNumber}` : `OTP sent to +91 ${phoneNumber}`}\r\n              </p>\r\n              <div className=\"mt-3 p-3 bg-yellow-50 rounded-lg border border-yellow-200\">\r\n                <p className=\"text-sm text-yellow-800 font-medium\">\r\n                  {language === 'te' ? '‚ö†Ô∏è SMS ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞ï‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ, ‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞¨‡∞ü‡∞®‡±ç ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' : '‚ö†Ô∏è Due to SMS issues, please use the Demo OTP button below'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Demo OTP Button - Prominent */}\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                localStorage.setItem('demo_otp', '123456');\r\n                localStorage.setItem('demo_phone', phoneNumber);\r\n                toast.success(language === 'te' ? '‡∞°‡±Ü‡∞Æ‡±ã OTP: 123456' : 'Demo OTP: 123456');\r\n                setStep('otp');\r\n              }}\r\n              className=\"w-full bg-green-500 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors mb-3\"\r\n            >\r\n              {language === 'te' ? '‚úÖ ‡∞°‡±Ü‡∞Æ‡±ã OTP ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø (123456)' : '‚úÖ Use Demo OTP (123456)'}\r\n            </button>\r\n\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setStep('phone')}\r\n                className=\"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors\"\r\n              >\r\n                {language === 'te' ? '‡∞∞‡∞¶‡±ç‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø' : 'Cancel'}\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"flex-1 bg-primary-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n              >\r\n                {loading ? (language === 'te' ? '‡∞≤‡±ã‡∞°‡±ç ‡∞Ö‡∞µ‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø' : 'Loading...') : (language === 'te' ? '‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø' : 'Verify')}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        )}\r\n        \r\n        {/* Government Login Option */}\r\n        <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-sm text-gray-600 mb-3\">\r\n              {language === 'te' ? '‡∞™‡±ç‡∞∞‡∞≠‡±Å‡∞§‡±ç‡∞µ ‡∞Ö‡∞ß‡∞ø‡∞ï‡∞æ‡∞∞‡±Å‡∞≤‡∞ï‡±Å' : 'For Government Officials'}\r\n            </p>\r\n            <button\r\n              onClick={onGovernmentLogin}\r\n              className=\"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2\"\r\n            >\r\n              <span>üèõÔ∏è</span>\r\n              <span>{language === 'te' ? '‡∞™‡±ç‡∞∞‡∞≠‡±Å‡∞§‡±ç‡∞µ ‡∞≤‡∞æ‡∞ó‡∞ø‡∞®‡±ç' : 'Government Login'}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}