{"ast":null,"code":"import React,{useState}from'react';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SupabaseTest=()=>{const[connectionStatus,setConnectionStatus]=useState('Ready to test');const[error,setError]=useState(null);const testConnection=async()=>{try{setConnectionStatus('Testing...');setError(null);// Import Supabase dynamically to avoid loading issues\nconst{dbHelpers}=await import('../../config/supabase');// Test connection\nconst{data:submissions,error:submissionsError}=await dbHelpers.getAllSubmissions();if(submissionsError){throw submissionsError;}setConnectionStatus(\"\\u2705 Connected! Found \".concat((submissions===null||submissions===void 0?void 0:submissions.length)||0,\" submissions\"));}catch(err){setConnectionStatus('‚ùå Connection Failed');setError(err.message||'Unknown error occurred');console.error('Supabase connection error:',err);}};const testCreateFarmer=async()=>{try{setError(null);const{dbHelpers}=await import('../../config/supabase');const newFarmer={phone_number:'9999999999',name:'Test Farmer',location:'Test Location',language:'en'};const{error}=await dbHelpers.createFarmer(newFarmer);if(error){throw error;}alert('‚úÖ Test farmer created successfully!');testConnection();// Refresh data\n}catch(err){alert('‚ùå Error creating farmer: '+err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-6 text-center\",children:\"\\uD83E\\uDDEA Supabase Connection Test\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-6 bg-gray-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"Connection Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold mb-2\",children:connectionStatus}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-600 bg-red-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Error:\"}),\" \",error]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:testConnection,className:\"bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors\",children:\"\\uD83D\\uDD17 Test Connection\"}),/*#__PURE__*/_jsx(\"button\",{onClick:testCreateFarmer,className:\"bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 transition-colors\",children:\"\\uD83E\\uDDD1\\u200D\\uD83C\\uDF3E Test Create Farmer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-yellow-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"\\uD83D\\uDCCB How to Test\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"1. Click \\\"Test Connection\\\" to check Supabase connection\"}),/*#__PURE__*/_jsx(\"div\",{children:\"2. Look for \\\"\\u2705 Connected!\\\" message\"}),/*#__PURE__*/_jsx(\"div\",{children:\"3. Click \\\"Test Create Farmer\\\" to add test data\"}),/*#__PURE__*/_jsx(\"div\",{children:\"4. Check your Supabase dashboard for new data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-6 bg-red-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-red-800\",children:\"\\uD83D\\uDD27 Troubleshooting\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-red-700\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u2022 If you see \\\"Connection Failed\\\", check your Supabase URL and key\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u2022 Make sure you've run the SQL schema in Supabase\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u2022 Check browser console for detailed error messages\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u2022 Verify your Supabase project is active\"})]})]})]})})});};export default SupabaseTest;","map":{"version":3,"names":["React","useState","motion","jsx","_jsx","jsxs","_jsxs","SupabaseTest","connectionStatus","setConnectionStatus","error","setError","testConnection","dbHelpers","data","submissions","submissionsError","getAllSubmissions","concat","length","err","message","console","testCreateFarmer","newFarmer","phone_number","name","location","language","createFarmer","alert","className","children","div","initial","opacity","y","animate","onClick"],"sources":["C:/Turmerik Bits/src/components/Pages/SupabaseTest.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst SupabaseTest = () => {\r\n  const [connectionStatus, setConnectionStatus] = useState('Ready to test');\r\n  const [error, setError] = useState(null);\r\n\r\n  const testConnection = async () => {\r\n    try {\r\n      setConnectionStatus('Testing...');\r\n      setError(null);\r\n      \r\n      // Import Supabase dynamically to avoid loading issues\r\n      const { dbHelpers } = await import('../../config/supabase');\r\n      \r\n      // Test connection\r\n      const { data: submissions, error: submissionsError } = await dbHelpers.getAllSubmissions();\r\n      \r\n      if (submissionsError) {\r\n        throw submissionsError;\r\n      }\r\n\r\n      setConnectionStatus(`‚úÖ Connected! Found ${submissions?.length || 0} submissions`);\r\n    } catch (err) {\r\n      setConnectionStatus('‚ùå Connection Failed');\r\n      setError(err.message || 'Unknown error occurred');\r\n      console.error('Supabase connection error:', err);\r\n    }\r\n  };\r\n\r\n  const testCreateFarmer = async () => {\r\n    try {\r\n      setError(null);\r\n      \r\n      const { dbHelpers } = await import('../../config/supabase');\r\n      \r\n      const newFarmer = {\r\n        phone_number: '9999999999',\r\n        name: 'Test Farmer',\r\n        location: 'Test Location',\r\n        language: 'en'\r\n      };\r\n\r\n      const { error } = await dbHelpers.createFarmer(newFarmer);\r\n      \r\n      if (error) {\r\n        throw error;\r\n      }\r\n\r\n      alert('‚úÖ Test farmer created successfully!');\r\n      testConnection(); // Refresh data\r\n    } catch (err) {\r\n      alert('‚ùå Error creating farmer: ' + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-6\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"bg-white rounded-2xl shadow-xl p-8\"\r\n        >\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-6 text-center\">\r\n            üß™ Supabase Connection Test\r\n          </h1>\r\n\r\n          {/* Connection Status */}\r\n          <div className=\"mb-8 p-6 bg-gray-50 rounded-xl\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Connection Status</h2>\r\n            <div className=\"text-2xl font-bold mb-2\">{connectionStatus}</div>\r\n            {error && (\r\n              <div className=\"text-red-600 bg-red-50 p-4 rounded-lg\">\r\n                <strong>Error:</strong> {error}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Test Buttons */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\">\r\n            <button\r\n              onClick={testConnection}\r\n              className=\"bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors\"\r\n            >\r\n              üîó Test Connection\r\n            </button>\r\n            <button\r\n              onClick={testCreateFarmer}\r\n              className=\"bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-700 transition-colors\"\r\n            >\r\n              üßë‚Äçüåæ Test Create Farmer\r\n            </button>\r\n          </div>\r\n\r\n          {/* Instructions */}\r\n          <div className=\"p-6 bg-yellow-50 rounded-xl\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">üìã How to Test</h2>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div>1. Click \"Test Connection\" to check Supabase connection</div>\r\n              <div>2. Look for \"‚úÖ Connected!\" message</div>\r\n              <div>3. Click \"Test Create Farmer\" to add test data</div>\r\n              <div>4. Check your Supabase dashboard for new data</div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Troubleshooting */}\r\n          <div className=\"mt-6 p-6 bg-red-50 rounded-xl\">\r\n            <h2 className=\"text-xl font-semibold mb-4 text-red-800\">üîß Troubleshooting</h2>\r\n            <div className=\"space-y-2 text-sm text-red-700\">\r\n              <div>‚Ä¢ If you see \"Connection Failed\", check your Supabase URL and key</div>\r\n              <div>‚Ä¢ Make sure you've run the SQL schema in Supabase</div>\r\n              <div>‚Ä¢ Check browser console for detailed error messages</div>\r\n              <div>‚Ä¢ Verify your Supabase project is active</div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SupabaseTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}